@let products = (products$ | async)!;

@if (products) {
  <div class="caption">
    <h1>Products ({{ products.length }})</h1>
    <button mat-mini-fab routerLink="new">
      <mat-icon>add</mat-icon>
    </button>
  </div>
}

@for (product of products | sort; track product.id) {
  <mat-card [routerLink]="[product.id]">
    <mat-card-header>
      <mat-card-title-group>
        <mat-card-title>{{ product.title }}</mat-card-title>
        <mat-card-subtitle>{{ product.category }}</mat-card-subtitle>
        <img mat-card-sm-image [src]="product.image" />
      </mat-card-title-group>
    </mat-card-header>
  </mat-card>
} @empty {
  <p>No products found!</p>
}
