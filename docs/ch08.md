# Capítulo 8 Angular HTTP

El método `provideHttpClient` expone varios servicios de Angular que podemos usar para manejar la comunicación HTTP asíncrona. El más básico es el servicio `HttpClient`, que proporciona una API robusta y abstrae todas las operaciones requeridas para manejar conexiones asíncronas a través de los siguientes métodos HTTP:

* `get`: Realiza una operación GET para obtener datos.
* `post`: Realiza una operación POST para añadir nuevos datos.
* `put` / `patch`: Realiza una operación PUT/PATCH para actualizar datos existentes.
* `delete`: Realiza una operación DELETE para eliminar datos existentes.

Los métodos HTTP anteriores constituyen las operaciones principales para las aplicaciones de Crear, Leer, Actualizar, Eliminar (CRUD).

## Configuración de una API de backend

Una aplicación web CRUD normalmente se conecta a un servidor y utiliza una API de backend HTTP para realizar operaciones sobre los datos. Obtiene datos existentes, los actualiza, crea nuevos datos o los elimina.

En un escenario del mundo real, lo más probable es que interactúes con un servicio de API de backend real a través de HTTP. En este libro, utilizaremos una API falsa llamada [`Fake Store API`](https://fakestoreapi.com/).

La `Fake Store API` es una API REST de backend disponible en línea que puedes usar cuando necesites datos falsos para una aplicación web de comercio electrónico o tienda online. Puede gestionar productos, carritos de compra y usuarios disponibles en formato JSON. Expone los siguientes endpoints principales:

* `products`: Gestiona un conjunto de artículos de producto.
* `cart`: Gestiona el carrito de compras de un usuario.
* `user`: Gestiona una colección de usuarios de la aplicación.
* `login`: Maneja la autenticación de usuarios.

## Manejo de datos CRUD en Angular

Las aplicaciones CRUD son ampliamente utilizadas en el mundo Angular. Difícilmente encontrarás alguna aplicación web que no siga este patrón. Angular hace un gran trabajo al soportar este tipo de aplicación al proporcionar el servicio `HttpClient`. En esta sección, exploraremos el cliente HTTP de Angular interactuando con el endpoint de productos de la `Fake Store API`.

### Obtención de datos a través de HTTP

La clase `ProductListComponent` utiliza la clase `ProductsService` para obtener y mostrar los datos del producto. Los datos están actualmente codificados en la propiedad `products` de la clase `ProductsService`. En este `commit`, modificaremos nuestra aplicación Angular para trabajar con datos en vivo de la `Fake Store API`.

### Modificación de datos a través de HTTP

La modificación de datos en una aplicación CRUD generalmente se refiere a añadir nuevos datos y a actualizar o eliminar datos existentes. Para demostrar cómo implementar dicha funcionalidad en una aplicación Angular usando el cliente HTTP, haremos los siguientes cambios en nuestra aplicación:

* Crear un componente Angular para añadir nuevos productos.
* Modificar el componente de detalle del producto para cambiar el precio de un producto existente.
* Añadir un botón en el componente de detalle del producto para eliminar un producto existente.

Ya hemos mencionado que ninguna operación HTTP persiste datos físicamente en la `Fake Store API`, por lo que necesitamos implementar un mecanismo de caché local para nuestros datos de productos e interactuar directamente con él en el servicio de productos. En una aplicación real el `backend` tendría `endpoints` esto no ocurriría ya que tendríamos métodos para realizar todas las operaciones del CRUD necesarias.

No necesitamos desuscribirnos cuando interactuamos con el cliente HTTP de Angular porque el `framework` lo hará automáticamente por nosotros.







